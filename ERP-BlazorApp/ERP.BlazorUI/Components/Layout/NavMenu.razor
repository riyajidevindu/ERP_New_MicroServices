
@inject NavigationManager NavigationManager
@rendermode InteractiveServer

<MudPaper Width="250px" Class="d-inline-flex py-3" Elevation="0">
    <MudNavMenu Class="mud-width-full">

        <MudDivider Class="my-2" />
        
        <MudNavGroup Class="text" Title="Adminstration" Icon="@Icons.Material.Filled.Person" IconColor="Color.Inherit" Expanded="false">
            <MudNavLink Href="/admin/manageprograms" Icon="@Icons.Material.Filled.Home" IconColor="Color.Inherit">Programs</MudNavLink>
            <MudNavLink Href="/studenteditlist" Icon="@Icons.Material.Filled.School" IconColor="Color.Inherit">Admission</MudNavLink>
            <MudNavLink Href="/counter" Icon="@Icons.Material.Filled.MenuBook" IconColor="Color.Inherit">Curriculum</MudNavLink>
            <MudNavLink Href="/counter" Icon="@Icons.Material.Filled.Security" IconColor="Color.Inherit">Sheduling</MudNavLink>
            <MudNavLink Href="/counter" Icon="@Icons.Material.Filled.Security" IconColor="Color.Inherit">Examination</MudNavLink>
            <MudNavLink Href="/counter" Icon="@Icons.Material.Filled.Security" IconColor="Color.Inherit">Transcripts</MudNavLink>
        </MudNavGroup>
            
        <MudNavGroup Title="Academic" Icon="@Icons.Material.Filled.LibraryBooks" Expanded="false">
            <MudNavLink Href="/counter" Icon="@Icons.Material.Filled.People" IconColor="Color.Inherit">Modules</MudNavLink>
            <MudNavLink Href="/counter" Icon="@Icons.Material.Filled.People" IconColor="Color.Inherit">Evaluations</MudNavLink>
            <MudNavLink Href="/counter" Icon="@Icons.Material.Filled.Security" IconColor="Color.Inherit">Results</MudNavLink>
            <MudNavLink Href="/register" Icon="@Icons.Material.Filled.People" IconColor="Color.Inherit">Requests</MudNavLink>
            <MudNavLink Href="/register" Icon="@Icons.Material.Filled.People" IconColor="Color.Inherit">Mentering</MudNavLink>
        </MudNavGroup>

        <MudNavGroup Title="Students" Icon="@Icons.Material.Filled.PeopleOutline" Expanded="false">
            <MudNavLink Href="/counter" Icon="@Icons.Material.Filled.People" IconColor="Color.Inherit">Registration</MudNavLink>
            <MudNavLink Href="/counter" Icon="@Icons.Material.Filled.People" IconColor="Color.Inherit">Mentering</MudNavLink>
            <MudNavLink Href="/counter" Icon="@Icons.Material.Filled.Security" IconColor="Color.Inherit">Requests</MudNavLink>
            <MudNavLink Href="/counter" Icon="@Icons.Material.Filled.Security" IconColor="Color.Inherit">Resutls</MudNavLink>
            <MudNavLink Href="/counter" Icon="@Icons.Material.Filled.Security" IconColor="Color.Inherit">Feedbacks</MudNavLink>
        </MudNavGroup>

        <MudNavGroup Title="Department" Icon="@Icons.Material.Filled.PeopleOutline" Expanded="false">
            <MudNavLink Href="/department/graduates" Icon="@Icons.Material.Filled.Man" IconColor="Color.Inherit">Graduates</MudNavLink>
            <MudNavGroup Title="Laboratory" Icon="@Icons.Material.Filled.Science" Expanded="false">
                <MudNavLink Href="/department/labEquipments" Icon="@Icons.Material.Filled.Inventory" IconColor="Color.Inherit">Lab Equipments</MudNavLink>
                <MudNavLink Href="/department/labSchedules" Icon="@Icons.Material.Filled.Schedule" IconColor="Color.Inherit">Laboratory Schedules</MudNavLink>
            </MudNavGroup>
            <MudNavGroup Title="Work Load" Icon="@Icons.Material.Filled.Work" Expanded="false">
                <MudNavLink Href="/department/workloads" Icon="@Icons.Material.Filled.WorkOutline" IconColor="Color.Inherit">Works</MudNavLink>
                <MudNavLink Href="/department/staff" Icon="@Icons.Material.Filled.Groups2" IconColor="Color.Inherit">Staff</MudNavLink>
            </MudNavGroup>
        </MudNavGroup>

        <MudNavGroup Title="Site Admin" Icon="@Icons.Material.Filled.Settings" Expanded="false">
            <MudNavLink Href="/counter" Icon="@Icons.Material.Filled.People" IconColor="Color.Inherit">Manage Staff</MudNavLink>
            <MudNavLink Href="/counter" Icon="@Icons.Material.Filled.Security" IconColor="Color.Inherit">Manage Students</MudNavLink>
            <MudNavLink Href="/counter" Icon="@Icons.Material.Filled.Security" IconColor="Color.Inherit">Control Panel</MudNavLink>
            <MudNavLink Href="/counter" Icon="@Icons.Material.Filled.Security" IconColor="Color.Inherit">Settings</MudNavLink>

        </MudNavGroup>

      

        

    </MudNavMenu>
</MudPaper>

    @code {
    private string? currentUrl;

    protected override void OnInitialized()
    {
        currentUrl = NavigationManager.ToBaseRelativePath(NavigationManager.Uri);
        NavigationManager.LocationChanged += OnLocationChanged;
    }

    private void OnLocationChanged(object? sender, LocationChangedEventArgs e)
    {
        currentUrl = NavigationManager.ToBaseRelativePath(e.Location);
        StateHasChanged();
    }

    public void Dispose()
    {
        NavigationManager.LocationChanged -= OnLocationChanged;
    }
}